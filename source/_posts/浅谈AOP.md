---
title: 浅谈AOP
date: 2017-03-03 11:34:47
categories: Spring
---
AOP（Aspect-Oriented Programming，面向切面编程）是一种编程的思想。是对OOP的补充和完善。OOP擅长纵向的编程，对横向编程无力，因为会产生大量重复代码。而AOP的横向编程能力正好弥补了这一缺陷。

# java实现AOP

## 1. 过滤器
也就是Filter，技术基于java的回调机制。设计的模式使用的责任链模式。
## 2. 拦截器
技术基于java的反射。设计的模式使用的代理模式。

可以是动态代理，也可以是静态代理。

因为使用了代理模式，所以可以在拦截前做一些事，在拦截后再做一些事。

## 过滤器和拦截器的区别
1. 过滤器基于回调，拦截器基于反射。
2. 过滤器依赖servler容器，拦截器不依赖servler容器。
3. 过滤器几乎可以对任何请求起作用，拦截器只能对action请求起作用。
4. 拦截器可以访问action上下文、值栈里的对象，过滤器不能。
5. 在action生命周期中，拦截器可以多次被调用，而过滤器只能在容器初始化时被调用一次。

看了这几点可能有疑惑，看下书上是怎么写的吧
![image](http://ok7wlv1ee.bkt.clouddn.com/17-3-3/4150228-file_1488522027418_33ad.png)
## 执行顺序
一个action请求进来。

过滤前-->拦截前-->action处理-->拦截后-->过滤后


# Spring实现AOP

## 1. aop
不要被Spring的aop给迷惑了，aop是种编程思想，而Spring的aop只是这种思想的具体实现。使用的也是代理模式。可以选择通过JDKProxy或cglib来代理。